{"version":3,"file":"EntitiesTable.esm.js","sources":["../../../src/features/EntitiesTable/EntitiesTable.tsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useMemo } from 'react';\nimport { PortEntity } from '../../api/search';\nimport { Table, TableColumn } from '@backstage/core-components';\n\n\nexport const EntitiesTable = (props: { entities: PortEntity[], isLoading: boolean }) => {\n    const columns: TableColumn[] = useMemo(() => {\n        const getUniqueFieldsByProperties = (entities: PortEntity[]) => {\n            const uniqueFields = new Set<string>();\n            uniqueFields.add('title');\n            uniqueFields.add('identifier');\n\n            entities.forEach(entity => {\n                Object.keys(entity.properties).forEach(key => {\n                    uniqueFields.add(`properties.${key}`);\n                });\n                Object.keys(entity.relations).forEach(key => {\n                    uniqueFields.add(`relations.${key}`);\n                });\n            });\n\n            return Array.from(uniqueFields);\n        }\n\n        const uniqueFields = getUniqueFieldsByProperties(props.entities);\n\n        return uniqueFields.map(field => ({\n            title: field,\n            field,\n        }));\n    }, [props.entities.length])\n\n\n    return <Table columns={columns} isLoading={props.isLoading} data={props.entities} />\n};"],"names":["uniqueFields"],"mappings":";;;AAMa,MAAA,aAAA,GAAgB,CAAC,KAA0D,KAAA;AACpF,EAAM,MAAA,OAAA,GAAyB,QAAQ,MAAM;AACzC,IAAM,MAAA,2BAAA,GAA8B,CAAC,QAA2B,KAAA;AAC5D,MAAMA,MAAAA,aAAAA,uBAAmB,GAAY,EAAA,CAAA;AACrC,MAAAA,aAAAA,CAAa,IAAI,OAAO,CAAA,CAAA;AACxB,MAAAA,aAAAA,CAAa,IAAI,YAAY,CAAA,CAAA;AAE7B,MAAA,QAAA,CAAS,QAAQ,CAAU,MAAA,KAAA;AACvB,QAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,UAAU,CAAA,CAAE,QAAQ,CAAO,GAAA,KAAA;AAC1C,UAAAA,aAAa,CAAA,GAAA,CAAI,CAAc,WAAA,EAAA,GAAG,CAAE,CAAA,CAAA,CAAA;AAAA,SACvC,CAAA,CAAA;AACD,QAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,SAAS,CAAA,CAAE,QAAQ,CAAO,GAAA,KAAA;AACzC,UAAAA,aAAa,CAAA,GAAA,CAAI,CAAa,UAAA,EAAA,GAAG,CAAE,CAAA,CAAA,CAAA;AAAA,SACtC,CAAA,CAAA;AAAA,OACJ,CAAA,CAAA;AAED,MAAO,OAAA,KAAA,CAAM,KAAKA,aAAY,CAAA,CAAA;AAAA,KAClC,CAAA;AAEA,IAAM,MAAA,YAAA,GAAe,2BAA4B,CAAA,KAAA,CAAM,QAAQ,CAAA,CAAA;AAE/D,IAAO,OAAA,YAAA,CAAa,IAAI,CAAU,KAAA,MAAA;AAAA,MAC9B,KAAO,EAAA,KAAA;AAAA,MACP,KAAA;AAAA,KACF,CAAA,CAAA,CAAA;AAAA,GACH,EAAA,CAAC,KAAM,CAAA,QAAA,CAAS,MAAM,CAAC,CAAA,CAAA;AAG1B,EAAO,uBAAA,KAAA,CAAA,aAAA,CAAC,SAAM,OAAkB,EAAA,SAAA,EAAW,MAAM,SAAW,EAAA,IAAA,EAAM,MAAM,QAAU,EAAA,CAAA,CAAA;AACtF;;;;"}